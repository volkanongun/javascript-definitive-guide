<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>14</title>
	
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
</head>
<body>

	<script>

		/////////////////////////

		// URL is file:///Users/volkan/dev/javascript-defintive-guide/index14.html?name=volkan&surname=ongun
		
		function urlArgs() { 
			var args = {};
			var query = location.search.substring(1); 
			var pairs = query.split("&");

			console.log(pairs)

			for(var i = 0; i < pairs.length; i++) {
				var pos = pairs[i].indexOf('=');
				if (pos == -1) continue;
				var name = pairs[i].substring(0,pos); 
				var value = pairs[i].substring(pos+1); 
				value = decodeURIComponent(value); 
				args[name] = value;
			}

			return args;
		}

		var args = urlArgs();
		var q = args.q || "";
		var n = args.n ? parseInt(args.n) : 10;
		console.log(args,q,n)
		
		/////////////////////////

		if (!XMLHttpRequest) location.replace("staticpage.html");

		/////////////////////////

		var browser = (function() {
			var s = navigator.userAgent.toLowerCase();
			var match = /(webkit)[ \/]([\w.]+)/.exec(s) || /(opera)(?:.*version)?[ \/]([\w.]+)/.exec(s) ||
			/(msie) ([\w.]+)/.exec(s) || !/compatible/.test(s) && /(mozilla)(?:.*? rv:([\w.]+))?/.exec(s) || [];		
			return { name: match[1] || "", version: match[2] || "0" }; }());

		console.log(browser)

	</script>
</body>
</html>

